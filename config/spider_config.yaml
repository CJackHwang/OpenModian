database_settings:
  auto_backup: true
  db_path: data/database/modian_data.db
  enable_deduplication: true
logging:
  backup_count: 5
  file: logs/spider/spider.log
  level: INFO
  max_size: 10MB
output_settings:
  cache_dir: data/cache
  excel_filename: æ‘©ç‚¹ä¼—ç­¹-ä¸»è¦ä¿¡æ¯.xls
  formats:
  - excel
  - csv
  - json
  output_dir: data/raw
spider_settings:
  max_concurrent_requests: 3
  max_pages: 10
  max_retries: 5
  request_delay:
  - 1.0
  - 3.0
  request_timeout:
  - 10
  - 20
  retry_delay: 2
  save_interval: 6  # æ¯6ä¸ªé¡¹ç›®ä¿å­˜ä¸€æ¬¡ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±

# ğŸ”§ æ–°å¢ï¼šå¹¶å‘æ§åˆ¶é…ç½®
concurrency_settings:
  # æ•°æ®åº“å¹¶å‘æ§åˆ¶
  max_db_connections: 10
  db_connection_timeout: 30.0
  db_lock_timeout: 10.0
  enable_db_wal_mode: true  # å¯ç”¨WALæ¨¡å¼æ”¯æŒå¹¶å‘è¯»å†™

  # æ–‡ä»¶æ“ä½œå¹¶å‘æ§åˆ¶
  max_file_operations: 5
  file_operation_timeout: 30.0
  enable_atomic_file_writes: true  # å¯ç”¨åŸå­æ–‡ä»¶å†™å…¥

  # å…¨å±€è¯·æ±‚é¢‘ç‡æ§åˆ¶
  global_request_rate_limit: 2.0  # æ¯ç§’æœ€å¤§è¯·æ±‚æ•°ï¼ˆæ‰€æœ‰çˆ¬è™«å®ä¾‹æ€»å’Œï¼‰
  enable_global_rate_limiting: true

  # ä»»åŠ¡è°ƒåº¦å¹¶å‘æ§åˆ¶
  max_concurrent_scheduled_tasks: 3
  task_check_interval: 5.0

  # èµ„æºç›‘æ§é…ç½®
  enable_resource_monitoring: true
  memory_threshold_mb: 1024
  cpu_threshold_percent: 80.0

  # é”™è¯¯å¤„ç†å’Œæ¢å¤
  max_consecutive_errors: 5
  error_backoff_factor: 2.0
  max_retry_delay: 60.0

# ğŸš€ æ–°å¢ï¼šé«˜çº§ä¼˜åŒ–é…ç½®
optimization_settings:
  # å†…å­˜ä¼˜åŒ–é…ç½®
  memory_optimization:
    enable_memory_monitoring: true
    memory_threshold_mb: 1024
    gc_threshold_percent: 80.0
    monitoring_interval: 30.0
    aggressive_cleanup_threshold: 1500

  # ç½‘ç»œä¼˜åŒ–é…ç½®
  network_optimization:
    enable_connection_pooling: true
    pool_connections: 20
    pool_maxsize: 50
    enable_smart_cache: true
    cache_max_size_mb: 500
    cache_max_age_seconds: 3600
    enable_request_compression: true

  # é”™è¯¯æ¢å¤é…ç½®
  error_recovery:
    enable_smart_retry: true
    max_retry_attempts: 3
    base_retry_delay: 1.0
    max_retry_delay: 60.0
    backoff_factor: 2.0
    enable_error_classification: true

  # æ€§èƒ½è°ƒä¼˜é…ç½®
  performance_tuning:
    enable_auto_tuning: true
    monitoring_interval: 10.0
    cpu_threshold: 80.0
    memory_threshold: 85.0
    response_time_threshold: 5.0
    error_rate_threshold: 10.0
    tuning_cooldown: 120

  # æ•°æ®æµä¼˜åŒ–é…ç½®
  data_streaming:
    enable_streaming_processing: true
    batch_size: 1000
    buffer_size: 5000
    enable_compression: true

web_ui_settings:
  auto_open_browser: true
  debug: false
  host: 0.0.0.0
  port_range:
  - 8080
  - 8090
